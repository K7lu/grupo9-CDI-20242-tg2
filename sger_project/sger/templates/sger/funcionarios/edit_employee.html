{% extends "base.html" %}

{% block content %}
<div class="container mx-auto mt-10 bg-white p-8 rounded-lg shadow-lg">
    <h2 class="text-2xl font-bold text-center text-[#003366] mb-6">Editar Funcionário</h2>

    <form method="POST">
        {% csrf_token %}
        <div class="grid grid-cols-2 gap-4">
            <!-- Nome -->
            <div class="col-span-2">
                <label for="nome" class="block text-sm font-medium text-gray-600">Nome Completo</label>
                <input type="text" id="nome" name="nome" value="{{ employee.nome }}"
                       class="w-full border rounded-lg px-4 py-2" required>
            </div>

            <!-- CPF -->
            <div>
                <label for="cpf" class="block text-sm font-medium text-gray-600">CPF</label>
                <input type="text" id="cpf" name="cpf" value="{{ employee.cpf }}"
                       class="w-full border rounded-lg px-4 py-2" required>
            </div>

            <!-- Data de Contratação -->
            <div>
                <label for="data_contratacao" class="block text-sm font-medium text-gray-600">Data de Contratação</label>
                <input type="date" id="data_contratacao" name="data_contratacao" value="{{ employee.data_contratacao }}"
                       class="w-full border rounded-lg px-4 py-2" required>
            </div>

            <!-- Telefone -->
            <div class="col-span-2">
                <label for="telefone" class="block text-sm font-medium text-gray-600">Telefone</label>
                <input type="text" id="telefone" name="telefone" value="{{ employee.telefone }}"
                       class="w-full border rounded-lg px-4 py-2">
            </div>
        </div>

        <!-- Campos específicos -->
        {% if employee.tipo == "Efetivo" %}
        <div class="mt-6">
            <h3 class="text-lg font-bold text-[#003366] mb-4">Detalhes do Efetivo</h3>
            <div>
                <label for="salario" class="block text-sm font-medium text-gray-600">Salário</label>
                <input type="number" id="salario" name="salario" step="0.01" value="{{ employee.salario }}"
                       class="w-full border rounded-lg px-4 py-2" {% if not can_edit %}readonly{% endif %}>
            </div>
            <div class="mt-4">
                <label for="beneficios" class="block text-sm font-medium text-gray-600">Benefícios</label>
                <textarea id="beneficios" name="beneficios" rows="3"
                          class="w-full border rounded-lg px-4 py-2" {% if not can_edit %}readonly{% endif %}>{{ employee.beneficios }}</textarea>
            </div>
        </div>
        {% elif employee.tipo == "Terceirizado" %}
        <div class="mt-6">
            <h3 class="text-lg font-bold text-[#003366] mb-4">Detalhes do Terceirizado</h3>
            <div>
                <label for="empresa" class="block text-sm font-medium text-gray-600">Empresa</label>
                <input type="text" id="empresa" name="empresa" value="{{ employee.empresa }}"
                       class="w-full border rounded-lg px-4 py-2" {% if not can_edit %}readonly{% endif %}>
            </div>
            <div class="mt-4">
                <label for="valor_hora" class="block text-sm font-medium text-gray-600">Valor/Hora</label>
                <input type="number" id="valor_hora" name="valor_hora" step="0.01" value="{{ employee.valor_hora }}"
                       class="w-full border rounded-lg px-4 py-2" {% if not can_edit %}readonly{% endif %}>
            </div>
        </div>
        {% endif %}

        <button type="submit" class="mt-6 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700">
            Salvar Alterações
        </button>
    </form>
</div>
{% endblock %}
